{"version":3,"sources":["..\\..\\..\\..\\assets\\scripts/assets\\scripts\\LeftPanel.js"],"names":["cc","Class","extends","Component","properties","content","displayName","default","type","Node","leftPanelItem","Prefab","onLoad","_initPage","self","loadingDisPlay","out","node","parent","getChildByName","bgWid","width","setPosition","moveAction","moveTo","x","runAction","removeAllChildren","Game","SendMessage","SendGetGameListMessage","GameConfig","GameListID","data","_showData","recData","active","state","console","log","gameList","redirect","i","length","item","instantiate","script","getComponent","directInfo","img_url","game_id","name","app_id","hz_app_id","path","hz_path","setItemData","addChild","onBtnClickBack","func","callFunc","destroy","p","seq2","sequence","loadingLabel","Label","string","index","schedule","repeat","macro","REPEAT_FOREVER"],"mappings":";;;;;;AAAAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,iBAAS,EAACC,aAAa,MAAd,EAAsBC,SAAS,IAA/B,EAAqCC,MAAMR,GAAGS,IAA9C,EADD;AAERC,uBAAe,EAACJ,aAAa,QAAd,EAAwBC,SAAS,IAAjC,EAAuCC,MAAMR,GAAGW,MAAhD;AAFP,KAHP;;AASLC,UATK,oBASI;AACL,aAAKC,SAAL;AACH,KAXI;;AAYL;AACAA,aAbK,uBAaO;AACR,YAAIC,OAAO,IAAX;;AAEA,aAAKC,cAAL;;AAEA,YAAIC,MAAM,KAAKC,IAAL,CAAUC,MAAV,CAAiBC,cAAjB,CAAgC,QAAhC,CAAV;AACA,YAAIC,QAAQ,KAAKH,IAAL,CAAUE,cAAV,CAAyB,IAAzB,EAA+BE,KAA3C;AACA,aAAKJ,IAAL,CAAUK,WAAV,CAAsB,GAAtB,EAA2B,CAA3B;AACA,YAAIC,aAAavB,GAAGwB,MAAH,CAAU,GAAV,EAAeR,IAAIS,CAAJ,GAAQL,QAAQ,CAA/B,EAAkC,CAAlC,CAAjB;AACA,aAAKH,IAAL,CAAUS,SAAV,CAAoBH,UAApB;AACA,aAAKlB,OAAL,CAAasB,iBAAb;;AAEAC,aAAKC,WAAL,CAAiBC,sBAAjB,CAAwCC,WAAWC,UAAnD,EAA+D,UAASC,IAAT,EAAc;AACzEnB,iBAAKoB,SAAL,CAAeD,IAAf;AACH,SAFD;AAGH,KA5BI;;;AA8BL;AACAC,aA/BK,qBA+BKC,OA/BL,EA+Bc;;AAEf,aAAKlB,IAAL,CAAUE,cAAV,CAAyB,cAAzB,EAAyCiB,MAAzC,GAAkD,KAAlD;;AAEA,YAAID,QAAQE,KAAR,KAAkB,IAAtB,EAA4B;AACxBC,oBAAQC,GAAR,CAAY,iBAAZ;AACH,SAFD,MAEO;AACH,gBAAIC,WAAWL,QAAQM,QAAvB;AACA,iBAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAIF,SAASG,MAA7B,EAAqCD,GAArC,EAA0C;AACtC,oBAAIE,OAAO5C,GAAG6C,WAAH,CAAe,KAAKnC,aAApB,CAAX;AACA,oBAAIoC,SAASF,KAAKG,YAAL,CAAkB,WAAlB,CAAb;AACA,oBAAID,MAAJ,EAAY;AACR,wBAAIE,aAAa;AACbC,iCAAST,SAASE,CAAT,EAAYO,OADR;AAEbC,iCAASV,SAASE,CAAT,EAAYQ,OAFR;AAGbC,8BAAMX,SAASE,CAAT,EAAYS,IAHL;AAIbC,gCAAQjB,QAAQkB,SAJH;AAKbC,8BAAMnB,QAAQoB;AALD,qBAAjB;AAOAT,2BAAOU,WAAP,CAAmBR,UAAnB;AACH;AACD,qBAAK3C,OAAL,CAAaoD,QAAb,CAAsBb,IAAtB;AACH;AACJ;AACJ,KAvDI;AAwDLc,kBAxDK,4BAwDY;AAAA;;AACb,YAAIC,OAAO3D,GAAG4D,QAAH,CAAY,YAAM;AACzB,kBAAK3C,IAAL,CAAU4C,OAAV;AACH,SAFU,CAAX;;AAIA,YAAItC,aAAavB,GAAGwB,MAAH,CAAU,GAAV,EAAexB,GAAG8D,CAAH,CAAK,GAAL,EAAU,CAAV,CAAf,CAAjB;AACA,YAAIC,OAAO/D,GAAGgE,QAAH,CAAYzC,UAAZ,EAAwBoC,IAAxB,CAAX;AACA,aAAK1C,IAAL,CAAUS,SAAV,CAAoBqC,IAApB;AACH,KAhEI;;;AAmEL;AACAhD,kBApEK,4BAoEY;AACb,YAAIkD,eAAe,KAAKhD,IAAL,CAAUE,cAAV,CAAyB,cAAzB,EAAyC4B,YAAzC,CAAsD/C,GAAGkE,KAAzD,CAAnB,CADa,CACsE;AACnFD,qBAAaE,MAAb,GAAsB,OAAtB;AACA,YAAIC,QAAQ,CAAZ;AACAH,qBAAaI,QAAb,CAAsB,YAAM;AAC5B,gBAAGD,QAAQ,CAAX,EAAc;AACdA,wBAAQ,CAAR;AACC;AACDH,yBAAaE,MAAb,sCAA8B,IAAIG,MAAJ,CAAWF,KAAX,CAA9B;AACAA;AACC,SAND,EAMI,GANJ,EAMUpE,GAAGuE,KAAH,CAASC,cANnB,EAMoC,CANpC;AAOC;AA/EA;AAgFL;AAhFJ","file":"LeftPanel.js","sourceRoot":"..\\..\\..\\..\\assets\\scripts","sourcesContent":["cc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        content: {displayName: \"内容节点\", default: null, type: cc.Node},\r\n        leftPanelItem: {displayName: \"侧拉板子节点\", default: null, type: cc.Prefab},\r\n    },\r\n\r\n\r\n    onLoad() {\r\n        this._initPage();\r\n    },\r\n    //初始化页面信息\r\n    _initPage() {\r\n        var self = this;\r\n\r\n        this.loadingDisPlay();\r\n\r\n        let out = this.node.parent.getChildByName(\"cblBtn\");\r\n        let bgWid = this.node.getChildByName(\"bg\").width;\r\n        this.node.setPosition(960, 0);\r\n        let moveAction = cc.moveTo(0.2, out.x - bgWid / 3, 0);\r\n        this.node.runAction(moveAction);\r\n        this.content.removeAllChildren();\r\n\r\n        Game.SendMessage.SendGetGameListMessage(GameConfig.GameListID, function(data){\r\n            self._showData(data);\r\n        });\r\n    },\r\n\r\n    //遍历展示数据\r\n    _showData(recData) {\r\n\r\n        this.node.getChildByName(\"loadingLabel\").active = false;\r\n\r\n        if (recData.state === \"10\") {\r\n            console.log(\"游戏列表审核中，不进行遍历展示\")\r\n        } else {\r\n            let gameList = recData.redirect;\r\n            for (let i = 0; i < gameList.length; i++) {\r\n                let item = cc.instantiate(this.leftPanelItem);\r\n                let script = item.getComponent(\"PanelItem\");\r\n                if (script) {\r\n                    let directInfo = {\r\n                        img_url: gameList[i].img_url,\r\n                        game_id: gameList[i].game_id,\r\n                        name: gameList[i].name,\r\n                        app_id: recData.hz_app_id,\r\n                        path: recData.hz_path\r\n                    };\r\n                    script.setItemData(directInfo);\r\n                }\r\n                this.content.addChild(item);\r\n            }\r\n        }\r\n    },\r\n    onBtnClickBack() {\r\n        let func = cc.callFunc(() => {\r\n            this.node.destroy();\r\n        })\r\n\r\n        let moveAction = cc.moveTo(0.2, cc.p(960, 0));\r\n        let seq2 = cc.sequence(moveAction, func);\r\n        this.node.runAction(seq2);\r\n    },\r\n\r\n    \r\n    //显示正在加载中文字\r\n    loadingDisPlay() {\r\n        let loadingLabel = this.node.getChildByName(\"loadingLabel\").getComponent(cc.Label);//文本的Label组件\r\n        loadingLabel.string = \"正在加载中\";\r\n        let index = 0; \r\n        loadingLabel.schedule(() => {\r\n        if(index > 3) {\r\n        index = 0;\r\n        }\r\n        loadingLabel.string = `正在加载中${\".\".repeat(index)}`;\r\n        index++;\r\n        } , 0.5 , cc.macro.REPEAT_FOREVER , 0);\r\n        },\r\n    // update (dt) {},\r\n});\r\n"]}