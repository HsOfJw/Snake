{"version":3,"sources":["..\\..\\..\\..\\..\\assets\\scripts\\gameobject/assets\\scripts\\gameobject\\StoneNode.js"],"names":["Entity","require","MoveComponent","DropComponent","cc","Class","extends","moveComponent","dropComponent","ctor","setName","addComponent","sprite","spriteFrame","setTexture","url","raw","doExit","doEnter","getAllGID","gidarr","push","gid","getMaxGID","getNodeByGID","startMove","Game","AudioManager","playPushStoneSound","moveFinish","myDropDirtyFlag","dropFinish","GlobalVar","isStoneDroping","y","setMyDeleteDirtyFlag","EventCenter","DispatchEvent","MessageType","Stone_Drop_Finish","doRotateAction","frameOnMove","dt"],"mappings":";;;;;;AAAA,IAAIA,SAASC,QAAQ,QAAR,CAAb;AACA,IAAIC,gBAAgBD,QAAQ,eAAR,EAAyBC,aAA7C;AACA,IAAIC,gBAAkBF,QAAQ,eAAR,CAAtB;;AAEAG,GAAGC,KAAH,CAAS;AACLC,aAASN,MADJ;;AAGLO,mBAAe,IAHV;AAILC,mBAAe,IAJV;;AAMLC,QANK,kBAMC;AACF,aAAKC,OAAL,CAAa,WAAb;;AAEA,aAAKH,aAAL,GAAqB,KAAKI,YAAL,CAAkB,eAAlB,CAArB;AACA,aAAKH,aAAL,GAAqB,KAAKG,YAAL,CAAkB,eAAlB,CAArB;;AAEA,aAAKC,MAAL,CAAYC,WAAZ,CAAwBC,UAAxB,CAAmCV,GAAGW,GAAH,CAAOC,GAAP,CAAW,+BAAX,CAAnC;AACH,KAbI;AAeLC,UAfK,oBAeG;AACJ,aAAKV,aAAL,GAAqB,IAArB;AACA,aAAKC,aAAL,GAAqB,IAArB;AACH,KAlBI;AAoBLU,WApBK,qBAoBI,CAER,CAtBI;;;AAwBLC,eAAW,qBAAU;AACjB,YAAIC,SAAS,EAAb;AACAA,eAAOC,IAAP,CAAY,KAAKC,GAAjB;AACA,eAAOF,MAAP;AACH,KA5BI;;AA8BLG,eAAW,qBAAU;AACjB,eAAO,KAAKJ,SAAL,EAAP;AACH,KAhCI;;AAkCLK,kBAAc,sBAASF,GAAT,EAAa;AACvB,eAAO,IAAP;AACH,KApCI;;AAsCLG,eAAW,qBAAU;AACjBC,aAAKC,YAAL,CAAkBC,kBAAlB;AACH,KAxCI;;AA0CLC,cA1CK,wBA0CO;AACR,aAAKC,eAAL,GAAuB,IAAvB;AACH,KA5CI;AA8CLC,cA9CK,wBA8CO;AACRL,aAAKM,SAAL,CAAeC,cAAf,GAAgC,KAAhC;AACA,YAAG,KAAKC,CAAL,GAAS,CAAZ,EAAc;AACV,iBAAKC,oBAAL,CAA0B,IAA1B;AACA;AACH;AACDT,aAAKU,WAAL,CAAiBC,aAAjB,CAA+BX,KAAKY,WAAL,CAAiBC,iBAAhD;AACA,aAAK/B,aAAL,CAAmBuB,UAAnB;;AAGA,aAAKD,eAAL,GAAuB,IAAvB;AACH,KAzDI;;;AA2DLU,oBAAgB,0BAAU,CAEzB,CA7DI;;AA+DLC,eA/DK,uBA+DOC,EA/DP,EA+DU;AACX,aAAKlC,aAAL,CAAmBiC,WAAnB,CAA+BC,EAA/B;AACA,aAAKnC,aAAL,CAAmBkC,WAAnB,CAA+BC,EAA/B;AACH;AAlEI,CAAT","file":"StoneNode.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\scripts\\gameobject","sourcesContent":["var Entity = require('Entity');\r\nvar MoveComponent = require('MoveComponent').MoveComponent;\r\nvar DropComponent   = require('DropComponent');\r\n\r\ncc.Class({\r\n    extends: Entity,\r\n\r\n    moveComponent: null,\r\n    dropComponent: null,\r\n\r\n    ctor(){\r\n        this.setName(\"StoneNode\");\r\n\r\n        this.moveComponent = this.addComponent(\"MoveComponent\");\r\n        this.dropComponent = this.addComponent(\"DropComponent\");\r\n\r\n        this.sprite.spriteFrame.setTexture(cc.url.raw('resources/gamescene/stone.png'));\r\n    },\r\n\r\n    doExit(){\r\n        this.moveComponent = null;\r\n        this.dropComponent = null;\r\n    },\r\n\r\n    doEnter(){\r\n\r\n    },\r\n    \r\n    getAllGID: function(){\r\n        var gidarr = [];\r\n        gidarr.push(this.gid);\r\n        return gidarr;\r\n    },\r\n\r\n    getMaxGID: function(){\r\n        return this.getAllGID();\r\n    },\r\n\r\n    getNodeByGID: function(gid){\r\n        return this;\r\n    },\r\n\r\n    startMove: function(){\r\n        Game.AudioManager.playPushStoneSound();\r\n    },\r\n\r\n    moveFinish(){\r\n        this.myDropDirtyFlag = true;\r\n    },\r\n\r\n    dropFinish(){\r\n        Game.GlobalVar.isStoneDroping = false;\r\n        if(this.y < 0){\r\n            this.setMyDeleteDirtyFlag(true);\r\n            return;\r\n        }\r\n        Game.EventCenter.DispatchEvent(Game.MessageType.Stone_Drop_Finish);\r\n        this.dropComponent.dropFinish();\r\n\r\n\r\n        this.myDropDirtyFlag = true;\r\n    },\r\n\r\n    doRotateAction: function(){\r\n\r\n    },\r\n\r\n    frameOnMove(dt){\r\n        this.dropComponent.frameOnMove(dt);\r\n        this.moveComponent.frameOnMove(dt);\r\n    }\r\n});\r\n"]}