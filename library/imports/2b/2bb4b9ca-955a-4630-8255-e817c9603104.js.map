{"version":3,"sources":["..\\..\\..\\..\\assets\\scripts/assets\\scripts\\AppleMgr.js"],"names":["Util","require","AppleNode","cc","Class","extends","Component","appleNodeVec","appleGIDVec","ctor","GenerateApple","myParent","allAppleGID","Game","MapUtil","GetAppleGID","i","length","gid","pos","ConvertGIDToPos","appleNode","setPosition","addChild","push","GetAllAppleNode","GetAllAppleGID","RemoveAppleByGID","destroy","splice","RemoveAppleGID","Clear"],"mappings":";;;;;;AAAA,IAAIA,OAAOC,QAAQ,MAAR,CAAX;AACA,IAAIC,YAAYD,QAAQ,wBAAR,CAAhB;;AAEAE,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,kBAAc,IAHT;AAILC,iBAAa,IAJR;;AAMLC,QANK,kBAMC,CACL,CAPI;AASLC,iBATK,yBASSC,QATT,EASkB;AACnB,YAAG,CAACA,QAAJ,EAAa;AACT;AACH;;AAED,aAAKH,WAAL,GAAmB,EAAnB;AACA,aAAKD,YAAL,GAAoB,EAApB;;AAEA,YAAIK,cAAcC,KAAKC,OAAL,CAAaC,WAAb,EAAlB;AACA,aAAI,IAAIC,IAAI,CAAZ,EAAcA,IAAIJ,YAAYK,MAA9B,EAAsCD,GAAtC,EAA2C;AACvC,gBAAIE,MAAMN,YAAYI,CAAZ,CAAV;AACA,gBAAGE,MAAM,CAAT,EAAW;AACP,oBAAIC,MAAMN,KAAKC,OAAL,CAAaM,eAAb,CAA6BF,GAA7B,CAAV;AACA,oBAAIG,YAAY,IAAInB,SAAJ,CAAc,WAAd,CAAhB;AACAmB,0BAAUC,WAAV,CAAsBH,GAAtB;AACAE,0BAAUH,GAAV,GAAgBA,GAAhB;AACAP,yBAASY,QAAT,CAAkBF,SAAlB;AACA,qBAAKd,YAAL,CAAkBiB,IAAlB,CAAuBH,SAAvB;AACA,qBAAKb,WAAL,CAAiBgB,IAAjB,CAAsBN,GAAtB;AACH;AACJ;AACJ,KA9BI;AAgCLO,mBAhCK,6BAgCY;AACb,eAAO,KAAKlB,YAAZ;AACH,KAlCI;AAoCLmB,kBApCK,4BAoCW;AACZ,eAAO,KAAKlB,WAAZ;AACH,KAtCI;AAwCLmB,oBAxCK,4BAwCYT,GAxCZ,EAwCgB;AACjB,aAAI,IAAIF,IAAI,CAAZ,EAAcA,IAAI,KAAKT,YAAL,CAAkBU,MAApC,EAA2CD,GAA3C,EAAgD;AAC5C,gBAAG,KAAKT,YAAL,CAAkBS,CAAlB,EAAqBE,GAArB,IAA4BA,GAA/B,EAAmC;AAC/B,qBAAKX,YAAL,CAAkBS,CAAlB,EAAqBY,OAArB;AACA,qBAAKrB,YAAL,CAAkBsB,MAAlB,CAAyBb,CAAzB,EAA4B,CAA5B;AACA;AACH;AACJ;;AAED,aAAI,IAAIA,IAAI,CAAZ,EAAcA,IAAI,KAAKR,WAAL,CAAiBS,MAAnC,EAA0CD,GAA1C,EAA+C;AAC3C,gBAAG,KAAKR,WAAL,CAAiBQ,CAAjB,KAAuBE,GAA1B,EAA8B;AAC1B,qBAAKV,WAAL,CAAiBqB,MAAjB,CAAwBb,CAAxB,EAA2B,CAA3B;AACA;AACH;AACJ;;AAEDH,aAAKC,OAAL,CAAagB,cAAb,CAA4BZ,GAA5B;AACH,KAzDI;AA2DLa,SA3DK,mBA2DE;AACH,YAAG,KAAKxB,YAAR,EAAqB;AACjB,iBAAKA,YAAL,CAAkBU,MAAlB,GAA2B,CAA3B;AACH;AACD,YAAG,KAAKT,WAAR,EAAoB;AAChB,iBAAKA,WAAL,CAAiBS,MAAjB,GAA0B,CAA1B;AACH;AACJ;AAlEI,CAAT","file":"AppleMgr.js","sourceRoot":"..\\..\\..\\..\\assets\\scripts","sourcesContent":["var Util = require('Util');\r\nvar AppleNode = require('./gameobject/AppleNode');\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    appleNodeVec: null,\r\n    appleGIDVec: null,\r\n\r\n    ctor(){\r\n    },\r\n\r\n    GenerateApple(myParent){\r\n        if(!myParent){\r\n            return;\r\n        }\r\n\r\n        this.appleGIDVec = [];\r\n        this.appleNodeVec = [];\r\n\r\n        var allAppleGID = Game.MapUtil.GetAppleGID();\r\n        for(var i = 0;i < allAppleGID.length; i ++){\r\n            var gid = allAppleGID[i];\r\n            if(gid > 0){\r\n                var pos = Game.MapUtil.ConvertGIDToPos(gid);\r\n                var appleNode = new AppleNode(\"AppleNode\");\r\n                appleNode.setPosition(pos);\r\n                appleNode.gid = gid;\r\n                myParent.addChild(appleNode);\r\n                this.appleNodeVec.push(appleNode);\r\n                this.appleGIDVec.push(gid);\r\n            }\r\n        }\r\n    },\r\n\r\n    GetAllAppleNode(){\r\n        return this.appleNodeVec;\r\n    },\r\n\r\n    GetAllAppleGID(){\r\n        return this.appleGIDVec;\r\n    },\r\n\r\n    RemoveAppleByGID(gid){\r\n        for(var i = 0;i < this.appleNodeVec.length;i ++){\r\n            if(this.appleNodeVec[i].gid == gid){\r\n                this.appleNodeVec[i].destroy();\r\n                this.appleNodeVec.splice(i, 1);\r\n                break;\r\n            }\r\n        }\r\n\r\n        for(var i = 0;i < this.appleGIDVec.length;i ++){\r\n            if(this.appleGIDVec[i] == gid){\r\n                this.appleGIDVec.splice(i, 1);\r\n                break;\r\n            }\r\n        }\r\n\r\n        Game.MapUtil.RemoveAppleGID(gid);\r\n    },\r\n\r\n    Clear(){\r\n        if(this.appleNodeVec){\r\n            this.appleNodeVec.length = 0;\r\n        }\r\n        if(this.appleGIDVec){\r\n            this.appleGIDVec.length = 0;\r\n        }\r\n    }\r\n});\r\n"]}