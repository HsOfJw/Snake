{"version":3,"sources":["EventCenter.js"],"names":["window","Game","EventCenter","eventTargetList","dispatchList","RegisterEvent","uuid","key","callback","push","DispatchEvent","data","target","eventList","callbackArr","i","length","DispatchEventSync","FrameOnMove","dt","len","RemoveEvent","ClearAll","MessageType","Snake_Move_Finish","Snake_Drop_Finish","Stone_Drop_Finish","CheckIsNotMove","Check_Stone_Drop","GAME_WIN","GAME_FAIL","Can_Eat_Apple","ClickedLockydrawBtn","Join_Next_Level","Reset_Start_Game","Advertise_Play_Finish","Update_Game_Object_ZIndex","Ctr_Snake_Move_To_Left","Ctr_Snake_Move_To_Right","Ctr_Snake_Move_To_Up","Ctr_Snake_Move_To_Down","Game_MIN_TIME_REP","Game_MIN_TIME_REP_NO_DATA"],"mappings":"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","file":"EventCenter.js","sourceRoot":"..\\..\\..\\..\\assets\\scripts","sourcesContent":["window.Game = window.Game || {};\r\n\r\n//所有自定义事件派发中心\r\nwindow.Game.EventCenter = {\r\n\r\n    eventTargetList: null,\r\n\r\n    dispatchList: null,\r\n\r\n    RegisterEvent: function(uuid, key, callback){\r\n        if(!this.eventTargetList){\r\n            this.eventTargetList = {};\r\n        }\r\n        if(!this.eventTargetList[uuid]){\r\n            this.eventTargetList[uuid] = {};\r\n        }\r\n        if(!this.eventTargetList[uuid][key]){\r\n            this.eventTargetList[uuid][key] = [];\r\n        }\r\n\r\n        this.eventTargetList[uuid][key].push(callback);\r\n    },\r\n\r\n    DispatchEvent: function(key, data){\r\n        if(this.eventTargetList){\r\n\r\n            for(var target in this.eventTargetList){\r\n                if(this.eventTargetList[target]){\r\n                    var eventList = this.eventTargetList[target]\r\n                    if(eventList[key]){\r\n                        var callbackArr = eventList[key];\r\n                        if(callbackArr){\r\n                            for(var i = 0;i < callbackArr.length;i ++){\r\n                                callbackArr[i](data);   \r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    },\r\n\r\n    DispatchEventSync: function(key){\r\n        if(!this.dispatchList){\r\n            this.dispatchList = [];\r\n        }\r\n\r\n        this.dispatchList.push(key);\r\n    },\r\n\r\n    FrameOnMove :function(dt){\r\n        if(this.dispatchList && this.dispatchList.length > 0){\r\n            var len = this.dispatchList.length;\r\n            for(var i = 0;i < len;i ++){\r\n                var key = this.dispatchList[i];\r\n                this.DispatchEvent(key);\r\n            }\r\n            this.dispatchList.length = 0;\r\n        }\r\n    },\r\n\r\n    RemoveEvent(uuid){\r\n        if(this.eventTargetList && this.eventTargetList[uuid]){\r\n            delete this.eventTargetList[uuid];\r\n        }\r\n    },\r\n\r\n    ClearAll:function(){\r\n        if(this.eventTargetList){\r\n            this.eventTargetList = null;\r\n        }\r\n        if(this.dispatchList){\r\n            this.dispatchList.length = 0;\r\n            this.dispatchList = null;\r\n        }\r\n    }\r\n}\r\n\r\nGame.MessageType = {\r\n    Snake_Move_Finish: \"Snake_Move_Finish\",\r\n    Snake_Drop_Finish: \"Snake_Drop_Finish\",\r\n    Stone_Drop_Finish: \"Stone_Drop_Finish\",\r\n    CheckIsNotMove: \"CheckIsNotMove\",\r\n    Check_Stone_Drop: \"Check_Stone_Drop\",\r\n    GAME_WIN: \"GAME_WIN\",\r\n    GAME_FAIL: \"GAME_FAIL\",\r\n    Can_Eat_Apple: \"Can_Eat_Apple\",\r\n    ClickedLockydrawBtn: \"ClickedLockydrawBtn\",\r\n\r\n    Join_Next_Level: \"Join_Next_Level\",\r\n    Reset_Start_Game: \"Reset_Start_Game\",\r\n\r\n    Advertise_Play_Finish: \"Advertise_Play_Finish\",\r\n\r\n    //刷新游戏对象层级事件\r\n    Update_Game_Object_ZIndex: \"Update_Game_Object_ZIndex\",\r\n\r\n    //控制蛇移动的事件\r\n    Ctr_Snake_Move_To_Left: \"Ctr_Snake_Move_To_Left\",\r\n    Ctr_Snake_Move_To_Right: \"Ctr_Snake_Move_To_Right\",\r\n    Ctr_Snake_Move_To_Up: \"Ctr_Snake_Move_To_Up\",\r\n    Ctr_Snake_Move_To_Down: \"Ctr_Snake_Move_To_Down\",\r\n\r\n    //网络消息\r\n    Game_MIN_TIME_REP: \"Game_MIN_TIME_REP\", //获取当前关卡内的最小过关时间成功\r\n    Game_MIN_TIME_REP_NO_DATA: \"Game_MIN_TIME_REP_NO_DATA\", //获取当前关卡内的最小过关时间失败 没有数据\r\n};\r\n"]}