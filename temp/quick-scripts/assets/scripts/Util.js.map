{"version":3,"sources":["Util.js"],"names":["IsContainElement","arr","item","i","length","SetNodeTexture","node","filename","cc","loader","loadRes","err","texture","log","sprite","getComponent","Sprite","spriteFrame","SpriteFrame","SetNodeSprteFrame","SetNodeText","text","label","Label","string","CreateSprite","name","Node","addComponent","CreateSpriteWithFrame","GetComponent","component","RegBtnClickEvent","button","callback","on","RegKeyUpEvent","systemEvent","SystemEvent","EventType","KEY_UP","RegBtnTouchBeginEvent","TOUCH_START","RegBtnTouchEndEvent","TOUCH_END","ScreenAdaptation","director","getWinSize","width","height","scaleX","Sort","compare","x","y","sort","NodeSort","node_a","node_b","gid","loadRemoteImg","url","load","type","module","exports"],"mappings":"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","file":"Util.js","sourceRoot":"..\\..\\..\\..\\assets\\scripts","sourcesContent":["//查找数组里是否包含某个元素\r\nfunction IsContainElement(arr, item){\r\n    if(arr){\r\n        for(var i = 0;i < arr.length; i++){\r\n            if(arr[i] == item){\r\n                return true;\r\n            }\r\n        }\r\n    }\r\n    return false;\r\n};\r\n\r\n//设置精灵节点的图片\r\nfunction SetNodeTexture(node, filename){\r\n    cc.loader.loadRes(filename, function(err, texture){\r\n        if(err){\r\n            cc.log(err);\r\n        }else{\r\n            var sprite = node.getComponent(cc.Sprite);\r\n            if(sprite){\r\n                sprite.spriteFrame = new cc.SpriteFrame(texture);\r\n            }\r\n        }\r\n    });\r\n};\r\n\r\n\r\n//\r\nfunction SetNodeSprteFrame(node, spriteFrame){\r\n    var sprite = node.getComponent(cc.Sprite);\r\n    if(sprite){\r\n        sprite.spriteFrame = spriteFrame;\r\n    }\r\n}\r\n\r\n//设置文本节点的内容\r\nfunction SetNodeText(node, text){\r\n    var label = node.getComponent(cc.Label);\r\n    if(label){\r\n        label.string = text;\r\n    }\r\n};\r\n\r\nfunction CreateSprite(name, texture){\r\n    var node = new cc.Node(name);\r\n    if(node){\r\n        var sprite = node.addComponent(cc.Sprite);\r\n        sprite.spriteFrame = new cc.SpriteFrame(texture);\r\n    }\r\n    return node;\r\n}\r\n\r\nfunction CreateSpriteWithFrame(name, spriteFrame){\r\n    var node = new cc.Node(name);\r\n    if(node){\r\n        var sprite = node.addComponent(cc.Sprite);\r\n        sprite.spriteFrame = spriteFrame;\r\n        return node;\r\n    }\r\n    return null;\r\n}\r\n\r\n//获取指定节点的指定组件\r\nfunction GetComponent(node, component){\r\n    if(node && component){\r\n        return node.getComponent(component);\r\n    }\r\n    return null;\r\n}\r\n\r\n//注册按钮点击事件\r\nfunction RegBtnClickEvent(button, callback){\r\n    // cc.assert(button, \"button is null\");\r\n    // cc.assert(callback, \"callback is null\");\r\n\r\n    if(button && callback){\r\n        button.on(\"click\", callback);\r\n    }\r\n}\r\n\r\n//注册键盘按下事件\r\nfunction RegKeyUpEvent(callback){\r\n    if(callback){\r\n        cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP, callback);\r\n    }\r\n}\r\n\r\nfunction RegBtnTouchBeginEvent(button, callback){\r\n    if(button && callback){\r\n        button.on(cc.Node.EventType.TOUCH_START, callback);\r\n    }\r\n}\r\n\r\nfunction RegBtnTouchEndEvent(button, callback){\r\n    if(button && callback){\r\n        button.on(cc.Node.EventType.TOUCH_END, callback);\r\n    }\r\n}\r\n\r\n//屏幕适配\r\nfunction ScreenAdaptation(node){\r\n    if(node){\r\n        if(cc.director.getWinSize().width / cc.director.getWinSize().height - 16 / 9 > 0.1){ \r\n            node.scaleX = cc.director.getWinSize().width / 1334;\r\n        }\r\n    }\r\n}\r\n\r\nfunction Sort(arr){\r\n    var compare = function (x, y) {\r\n        if (x < y) {\r\n            return 1;\r\n        } else if (x > y) {\r\n            return -1;\r\n        } else {\r\n            return 0;\r\n        }\r\n    };\r\n\r\n    arr.sort(compare);\r\n}\r\n\r\n//根据gid对节点进行排序\r\nfunction NodeSort(arr){\r\n    var compare = function (node_a, node_b) {\r\n        if (node_a.gid < node_b.gid) {\r\n            return 1;\r\n        } else if (node_a.gid > node_b.gid) {\r\n            return -1;\r\n        } else {\r\n            return 0;\r\n        }\r\n    };\r\n\r\n    arr.sort(compare);\r\n};\r\n\r\n\r\nfunction loadRemoteImg(node, url){\r\n    cc.loader.load({\r\n        url: url, type: 'jpg'\r\n    }, (err, texture) => {\r\n        node.getComponent(cc.Sprite).spriteFrame = new cc.SpriteFrame(texture);\r\n    });\r\n};\r\n\r\nmodule.exports = {\r\n    IsContainElement: IsContainElement,\r\n    SetNodeTexture: SetNodeTexture,\r\n    CreateSprite: CreateSprite,\r\n    NodeSort: NodeSort,\r\n    Sort: Sort,\r\n    SetNodeText: SetNodeText,\r\n    RegBtnClickEvent: RegBtnClickEvent,\r\n    RegBtnTouchEndEvent: RegBtnTouchEndEvent,\r\n    RegKeyUpEvent: RegKeyUpEvent,\r\n    RegBtnTouchBeginEvent: RegBtnTouchBeginEvent,\r\n    ScreenAdaptation: ScreenAdaptation,\r\n    GetComponent: GetComponent,\r\n    CreateSpriteWithFrame: CreateSpriteWithFrame,\r\n    SetNodeSprteFrame: SetNodeSprteFrame,\r\n    loadRemoteImg: loadRemoteImg,\r\n}"]}